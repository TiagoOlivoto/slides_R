getwd()
setwd("E:/Desktop/UFSC/concurso/Memorial")
library(tidyverse)
library(metan)
library(rio)
library(rnaturalearth)
library(rnaturalearthdata)
world <- ne_countries(scale = "medium", returnclass = "sf")
metan_data <- import("dados_memorial.xlsx", sheet = "metan")
world <- left_join(world, metan_data, by = "sovereignt")
View(world)
View(metan_data)
world <- ne_countries(scale = "medium", returnclass = "sf")
metan_data <- import("dados_memorial.xlsx", sheet = "pliman")
world <- left_join(world, metan_data, by = "sovereignt")
# p <-
ggplot(data = world) +
geom_sf(aes(fill = number),size = 0.05) +
cowplot::theme_map()+
scale_fill_viridis_c(na.value = "white",
direction = -1) +
theme(legend.key.width = unit(3, "cm"),
legend.direction = "horizontal",
legend.position = "bottom",
legend.box.spacing = unit(-0.25, "cm"),
legend.justification = "center",
plot.margin = margin(0, 0, 0, 0, "cm"),
legend.title = element_blank()) +
labs(title = "Países onde o pacote metan já é acessado",
subtitle = "Fonte: Google Analytics")
world <- ne_countries(scale = "medium", returnclass = "sf")
metan_data <- import("dados_memorial.xlsx", sheet = "pliman")
world <- left_join(world, metan_data, by = "sovereignt")
# p <-
ggplot(data = world) +
geom_sf(aes(fill = number),size = 0.05) +
cowplot::theme_map()+
scale_fill_viridis_c(na.value = "white",
direction = -1) +
theme(legend.key.width = unit(3, "cm"),
legend.direction = "horizontal",
legend.position = "bottom",
legend.box.spacing = unit(-0.25, "cm"),
legend.justification = "center",
plot.margin = margin(0, 0, 0, 0, "cm"),
legend.title = element_blank()) +
labs(title = "Países onde o pacote metan já é acessado",
subtitle = "Fonte: Google Analytics")
# p <-
ggplot(data = world) +
geom_sf(aes(fill = number),size = 0.05) +
cowplot::theme_map()+
scale_fill_viridis_c(na.value = "white",
direction = -1) +
theme(legend.key.width = unit(3, "cm"),
legend.direction = "horizontal",
legend.position = "bottom",
legend.box.spacing = unit(-0.25, "cm"),
legend.justification = "center",
plot.margin = margin(0, 0, 0, 0, "cm"),
legend.title = element_blank()) +
labs(title = "Países onde o pacote {pliman} já é acessado",
subtitle = "Fonte: Google Analytics")
ggsave("pliman.png", width = 10, height = 6)
img <- image_import("figs/vicia.jpg")
vicia <- analyze_objects(img, index = "B")
library(metan)
img <- image_import("figs/vicia.jpg")
library(pliman)
img <- image_import("figs/vicia.jpg")
setwd("E:/Desktop/UFSC/cursos/slides_R/slides/pliman_imagep/figs")
setwd("E:/Desktop/UFSC/cursos/slides_R/slides/pliman_imagep")
img <- image_import("figs/vicia.jpg")
vicia <- analyze_objects(img, index = "B")
vicia$statistics$stat
vicia$statistics$value
vicia$statistics[1,]
la <- image_import("leaves.jpg")
la <- image_import("leaves.jpeg")
getwd()
la <- image_import("figs/leaves.jpeg")
la <- image_import("figs/leaves.jpg")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
show_image = FALSE)
area <- get_measures(la_res, dpi = 72)
image_segment(la)
plot_measures(area, measure = "area")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
show_image = FALSE)
area <- get_measures(la_res, dpi = 72)
image_segment(la, "B")
plot_measures(area, measure = "area")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
show_image = FALSE)
area <- get_measures(la_res, dpi = 72)
image_segment(la, "NB")
plot_measures(area, measure = "area")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
show_image = FALSE)
area <- get_measures(la_res, dpi = 72)
image_segment(la, "NB")
plot_measures(area, measure = "area")
image_segment(la, "B")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
index = "B",
show_image = FALSE)
area <- get_measures(la_res, dpi = 72)
image_segment(la, "B")
plot_measures(area, measure = "area")
image_segment(la, "NB")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
show_image = FALSE)
area <- get_measures(la_res, dpi = 72)
image_segment(la, "NB")
plot_measures(area, measure = "area")
area <- get_measures(la_res, dpi = 150)
image_segment(la, "NB")
plot_measures(area, measure = "area")
area <- get_measures(la_res, dpi = 72)
image_segment(la, "NB")
plot_measures(area, measure = "area")
area <- get_measures(la_res, dpi = 30)
image_segment(la, "NB")
plot_measures(area, measure = "area")
area <- get_measures(la_res, dpi = 60)
image_segment(la, "NB")
plot_measures(area, measure = "area")
area <- get_measures(la_res, dpi = 62)
image_segment(la, "NB")
plot_measures(area, measure = "area")
area <- get_measures(la_res, dpi = 55)
image_segment(la, "NB")
plot_measures(area, measure = "area")
la <- image_import("figs/leaves.jpg", plot = TRUE)
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
show_image = FALSE)
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
show_image = FALSE,
marker = "area")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
# show_image = FALSE,
marker = "area")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
marker = "area")
area <- get_measures(la_res, dpi = 72)
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
marker = "area",
col_background = "black")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
marker = "area",
col_background = "white")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
marker = "area",
col_background = "red")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
marker = "area",
col_background = "cyan")
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
marker = "area",
col_background = "blue")
area <- get_measures(la_res, dpi = 72)
area <- get_measures(la_res, dpi = 72)
plot_measures(area,
measure = "area",
vjust = 20)
plot_measures(area,
measure = "area",
vjust = -25)
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
marker = "area",
col_background = "blue")
area <- get_measures(la_res, dpi = 72)
plot_measures(area,
measure = "area",
vjust = -25)
plot_measures(area,
measure = "area",
vjust = -30)
la_res <-
analyze_objects(la,
watershed = FALSE, #<<
marker = "area",
col_background = "blue")
area <- get_measures(la_res, dpi = 72)
plot_measures(area,
measure = "area",
vjust = -30)
potato <- image_import("figs/bean.jpg", plot = TRUE)
potato <- image_import("figs/bean.jpg", plot = TRUE)
potato <- image_import("figs/bean.jpg", plot = TRUE)
bean <- image_import("figs/bean.jpg", plot = TRUE)
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
show_contour = FALSE,
col_background = "black")
# contour
cont <- object_contour(bean2,
index = "G",
watershed = FALSE,
show_image = FALSE)
# contour
cont <- object_contour(bean,
index = "G",
watershed = FALSE,
show_image = FALSE)
# smooth the perimeter with fewer vertices (50)
sp <- poly_spline(cont, vertices = 50)
plot_contour(sp, col = "white", lwd = 2)
# center of mass
cm <- poly_mass(sp)
plot_mass(cm,
col = "white",
arrow = TRUE)
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
# show_contour = FALSE,
col_background = "black")
poly_spline
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
contour_col = "white",
col_background = "black")
# contour
cont <- object_contour(bean,
index = "G",
watershed = FALSE,
show_image = FALSE)
# smooth the perimeter with fewer vertices (50)
sp <- poly_spline(cont, vertices = 50)
plot_contour(sp, col = "white", lwd = 2)
# center of mass
cm <- poly_mass(sp)
plot_mass(cm,
col = "white",
arrow = TRUE)
meas <- get_measures(bean2_meas, dpi = 200)
plot_measures(meas, measure = "ss")
plot_measures(meas, measure = "area")
meas
meas <- get_measures(bean2_meas, dpi = 150)
plot_measures(meas, measure = "diam_min")
plot(bean)
plot_measures(meas, measure = "diam_min")
meas <- get_measures(bean2_meas, dpi = 72)
plot_measures(meas, measure = "diam_min")
meas <- get_measures(bean2_meas, dpi = 300)
plot_measures(meas, measure = "diam_min")
plot_measures(meas, measure = "diam_max", hjust = 30)
plot_measures(meas, measure = "diam_max", hjust = 50)
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
contour_col = "white",
col_background = "black")
# contour
cont <- object_contour(bean,
index = "G",
watershed = FALSE,
show_image = FALSE)
# smooth the perimeter with fewer vertices (50)
sp <- poly_spline(cont, vertices = 50)
plot_contour(sp, col = "white", lwd = 2)
# center of mass
cm <- poly_mass(sp)
plot_mass(cm,
col = "white",
arrow = TRUE)
meas <- get_measures(bean2_meas, dpi = 300)
plot_measures(meas, measure = "diam_min")
plot_measures(meas, measure = "diam_max", hjust = 50)
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
contour_col = "white",
col_background = "black")
# contour
cont <- object_contour(bean,
index = "G",
watershed = FALSE,
show_image = FALSE)
# smooth the perimeter with fewer vertices (50)
sp <- poly_spline(cont, vertices = 50)
plot_contour(sp, col = "white", lwd = 2)
# center of mass
cm <- poly_mass(sp)
plot_mass(cm,
col = "white",
arrow = TRUE)
meas <- get_measures(bean2_meas, dpi = 300)
plot_measures(meas, measure = "diam_min", vjust = 50)
plot_measures(meas, measure = "diam_max", hjust = 50)
meas
plot_measures(meas, measure = "id", hjust = 40, vjust = -50)
plot_measures(meas, measure = "id", hjust = -40, vjust = 50)
plot_measures(meas, measure = "id", hjust = -100, vjust = 100)
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
contour_col = "white",
col_background = "black")
# contour
cont <- object_contour(bean,
index = "G",
watershed = FALSE,
show_image = FALSE)
# smooth the perimeter with fewer vertices (50)
sp <- poly_spline(cont, vertices = 50)
plot_contour(sp, col = "white", lwd = 2)
# center of mass
cm <- poly_mass(sp)
plot_mass(cm,
col = "white",
arrow = TRUE)
meas <- get_measures(bean2_meas, dpi = 300)
plot_measures(meas, measure = "diam_min", vjust = 50)
plot_measures(meas, measure = "diam_max", hjust = 50)
plot_measures(meas, measure = "id", hjust = -100, vjust = 100)
plot_measures(meas, measure = "id", hjust = -100, vjust = 100, col = red)
plot_measures(meas, measure = "id", hjust = -100, vjust = 100, col = "red")
plot(bean)
plot(bean)
plot(bean)
meas <- get_measures(bean2_meas, dpi = 300)
plot_measures(meas, measure = "diam_min", vjust = 50)
plot_measures(meas, measure = "diam_max", hjust = 50)
plot_measures(meas, measure = "id", hjust = -100, vjust = 100, col = "red")
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
contour_col = "white",
col_background = "black")
# contour
cont <- object_contour(bean,
index = "G",
watershed = FALSE,
show_image = FALSE)
# smooth the perimeter with fewer vertices (50)
sp <- poly_spline(cont, vertices = 50)
plot_contour(sp, col = "white", lwd = 2)
# center of mass
cm <- poly_mass(sp)
plot_mass(cm,
col = "white",
arrow = TRUE)
meas <- get_measures(bean2_meas, dpi = 300)
plot_measures(meas, measure = "diam_min", vjust = 50)
plot_measures(meas, measure = "diam_max", hjust = 50)
plot_measures(meas, measure = "id", hjust = -100, vjust = 100, col = "red")
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
contour_col = "white",
col_background = "black")
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
contour_col = "white",
col_background = "black")
bean2_meas <-
analyze_objects(bean,
index = "G",
fill_hull = TRUE,
watershed = FALSE,
show_image = FALSE,
contour_col = "white",
col_background = "black")
# contour
cont <- object_contour(bean,
index = "G",
watershed = FALSE,
show_image = FALSE)
# smooth the perimeter with fewer vertices (50)
sp <- poly_spline(cont, vertices = 50)
plot_contour(sp, col = "white", lwd = 2)
# center of mass
cm <- poly_mass(sp)
plot_mass(cm,
col = "white",
arrow = TRUE)
meas <- get_measures(bean2_meas, dpi = 300)
plot_measures(meas, measure = "diam_min", vjust = 50)
plot_measures(meas, measure = "diam_max", hjust = 50)
plot_measures(meas, measure = "id", hjust = -100, vjust = 100, col = "red")
roots <- image_import("figs/root.jpg", plot = TRUE)
bean <- image_import("figs/root.jpg", plot = TRUE)
bean <- image_import("https://github.com/TiagoOlivoto/paper_pliman/raw/master/data/roots/root.jpg", plot = TRUE)
bean <- image_import("https://github.com/TiagoOlivoto/paper_pliman/raw/master/data/roots/root.jpg", plot = TRUE)
bean <- image_import("https://bit.ly/root_soy", plot = TRUE)
bean <- image_import("https://bit.ly/root_soy2", plot = TRUE)
bean <- image_import("https://bit.ly/root_soy", plot = TRUE)
bean <- image_import("https://github.com/TiagoOlivoto/paper_pliman/raw/master/data/roots/root.jpg", plot = TRUE)
bean <- image_import("https://bit.ly/root_soy2", plot = TRUE)
bean <- image_import("https://raw.githubusercontent.com/TiagoOlivoto/paper_pliman/master/data/roots/root.jpg", plot = TRUE)
bean <- image_import("https://raw.githubusercontent.com/TiagoOlivoto/paper_pliman/master/data/roots/root.jpg", plot = TRUE)
bean <- image_import("figs/root.jpg", plot = TRUE)
r1_meas <-
analyze_objects(r1, index = "B", marker = "id", invert = TRUE,
tolerance = 3, lower_eccent = 0.95)
root <- image_import("figs/root.jpg", plot = TRUE)
r1_meas <-
analyze_objects(root, index = "B", marker = "id", invert = TRUE,
tolerance = 3, lower_eccent = 0.95)
r1_meas <-
analyze_objects(root, index = "B", invert = TRUE,
tolerance = 3, lower_eccent = 0.95)
plot_measures(r1_meas, measure = "diam_max")
r1_meas <-
analyze_objects(root, index = "B", invert = TRUE,
tolerance = 3, lower_eccent = 0.95)
r1_meas_cor <- get_measures(r1_meas, dpi = 150)
plot_measures(r1_meas_cor, measure = "diam_max")
plot_measures(r1_meas_cor, measure = "perimeter")
r1_meas <-
analyze_objects(root, index = "B", invert = TRUE,
tolerance = 3, lower_eccent = 0.95)
r1_meas_cor <- get_measures(r1_meas, dpi = 150)
r1_meas_cor$metade_perimetro = r1_meas_cor$perimeter / 2
plot_measures(r1_meas_cor, measure = "metade_perimetro")
root <- image_import("figs/esverdeado.jpg", plot = TRUE)
esverdeado <- image_import("figs/esverdeado.jpg", plot = TRUE)
rgb_soja <- analyze_objects(esverdeado)
rgb_soja <- analyze_objects(esverdeado %>% image_resize(50))
esverdeado %>% image_resize(50) %>% image_export("esverdeado.jpg")
getwd()
esverdeado <- image_import("figs/esverdeado.jpg", plot = TRUE)
rgb_soja <- analyze_objects(index = "R")
image_index(esverdeado, index = "all")
rgb_soja <- analyze_objects(esverdeado, index = "B")
rgb_soja <- analyze_objects(esverdeado, index = "R")
rgb_soja <- analyze_objects(esverdeado, index = "G")
rgb_soja <- analyze_objects(esverdeado, index = "NB")
image_segment(esverdeado, index = "all")
rgb_soja <- analyze_objects(esverdeado, index = "S", invert = TRUE)
rgb_soja <- analyze_objects(esverdeado,
index = "S",
invert = TRUE,
object_index = "G")
plot_measures(ids,
measure = "B", # plot the mean of blue values for each object
col = "black")
plot_measures(rgb_soja,
measure = "B", # plot the mean of blue values for each object
col = "black")
plot_measures(rgb_soja,
measure = "G", # plot the mean of blue values for each object
col = "black")
library(pliman)
vicia <- image_import("figs/vicia.jpg")
pick_count(vicia)
pick_count(vicia)
setwd("E:/Desktop/UFSC/cursos/slides_R/slides/pliman_imagep")
library(pliman)
vicia <- image_import("figs/vicia.jpg")
pick_count(vicia)
library(pliman)
vicia <- image_import("figs/vicia.jpg")
pick_count(vicia)
16*4
16*5
